---
title: "ã€Flutterã€‘é…åˆ—ã®ä½¿ã„æ–¹ã€ä¾¿åˆ©ãªé–¢æ•°ä¸€è¦§"
emoji: "ğŸ‰"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Flutter", "Dart"]
published: true
---
## ã¯ã˜ã‚ã«
Flutterã§é–‹ç™ºã‚’ã—ã¦ã„ã¦ã€é…åˆ—æ“ä½œã®é–¢æ•°ã‚’å¿˜ã‚Œã‚‹ã®ã§ã€
1. ãƒ¡ãƒ¢ä»£ã‚ã‚Š
2. çŸ¥è­˜å®šç€ã®ãŸã‚

ã‚’ç†ç”±ã«æ›¸ã„ã¦ãŠã‚Šã¾ã™ã€‚
é–“é•ãˆã¦ã„ã‚‹ç‚¹ã‚„ã€è¿½åŠ ã—ã¦ã»ã—ã„é–¢æ•°ãªã©ãŒã‚ã‚Šã¾ã—ãŸã‚‰ãŠæ°—è»½ã«ã‚³ãƒ¡ãƒ³ãƒˆãã ã•ã„ğŸ™‚
ä»–ã«ã‚‚ä½¿ç”¨ã—ãŸé–¢æ•°ãŒå¢—ãˆã‚Œã°è¿½åŠ ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ï¼

## ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹
:::details add | ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€ã¤è¿½åŠ ã™ã‚‹
ãƒªã‚¹ãƒˆã®ä¸€ç•ªå¾Œã‚ã«è¿½åŠ ã—ã¾ã™ã€‚
```dart:
final numbers = <int>[1, 2, 3];
numbers.add(4);
print(numbers); // [1, 2, 3, 4]
```
:::

:::details addAll | ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°è¿½åŠ ã™ã‚‹
ã“ã¡ã‚‰ã‚‚åŒæ§˜ä¸€ç•ªå¾Œã‚ã«è¿½åŠ ã—ã¾ã™ã€‚
```dart:
final numbers = <int>[1, 2, 3];
numbers.addAll([4, 5, 6]);
print(numbers); // [1, 2, 3, 4, 5, 6]
```
:::

:::details insert | æŒ‡å®šã—ãŸç•ªå·ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€ã¤è¿½åŠ ã™ã‚‹
é…åˆ—ã®indexç•ªå·ã‚’æŒ‡å®šã—ã¦ã€ãã®å ´æ‰€ã«æ–°ã—ã„è¦ç´ ã‚’è¿½åŠ ã—ã¾ã™ã€‚
ä¸‹è¨˜ã®ä¾‹ã§ã¯`index = 2`ãªã®ã§0ã‹ã‚‰æ•°ãˆã¦3ç•ªç›®ã«`10`ã¨ã„ã†è¦ç´ ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚
```dart
final numbers = <int>[1, 2, 3, 4];
const index = 2;
numbers.insert(index, 10);
print(numbers); // [1, 2, 10, 3, 4]
```
:::

:::details insertAll | æŒ‡å®šã—ãŸç•ªå·ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°è¿½åŠ ã™ã‚‹
`insert`é–¢æ•°ã®è¤‡æ•°ç‰ˆã§ã™ã€‚
```dart
final numbers = <int>[1, 2, 3, 4];
final insertItems = [10, 11];
numbers.insertAll(2, insertItems);
print(numbers); // [1, 2, 10, 11, 3, 4]
```
:::


## ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã™ã‚‹
:::details clear | é…åˆ—ã®ä¸­èº«ã‚’å…¨ã¦å‰Šé™¤ã™ã‚‹
ãã®åã®é€šã‚Šã€é…åˆ—ã®ä¸­èº«ã‚’å…¨ã¦å‰Šé™¤ã—ã€ç©ºã®é…åˆ—ã«ã—ã¾ã™ã€‚
```dart
final numbers = <int>[1, 2, 3];
numbers.clear();
print(numbers.length); // 0
print(numbers); // []
```
:::

:::details remove | æŒ‡å®šã—ãŸè¦ç´ ã‚’å‰Šé™¤ã™ã‚‹
ç§ã¯çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€ãƒªã‚¹ãƒˆã‹ã‚‰æŒ‡å®šã—ãŸè¦ç´ ã‚’æ¶ˆã—ã¦ãã‚Œã‚‹ã ã‘ã§ãªãã€å‰Šé™¤ã§ããŸã‹ã©ã†ã‹ï¼ˆæŒ‡å®šã—ãŸè¦ç´ ãŒã‚ã£ãŸã‹ã©ã†ã‹ï¼‰ã®`bool`ã‚’è¿”ã—ã¦ãã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚
```dart
final parts = <String>['head', 'shoulders', 'knees', 'toes'];
final retVal = parts.remove('head'); // true
print(parts); // [shoulders, knees, toes]
The method has no effect if [value] was not in the list.

final parts = <String>['shoulders', 'knees', 'toes'];
// Note: 'head' has already been removed.
final retVal = parts.remove('head'); // false
```
:::

:::details removeAt | æŒ‡å®šã—ãŸindexç•ªå·ã®è¦ç´ ã‚’å‰Šé™¤ã™ã‚‹
é…åˆ—ã®ç•ªå·ã‚’æŒ‡å®šã—ã¦ã€ãã®ç•ªå·ã®è¦ç´ ã‚’å‰Šé™¤ã—ã¦ãã‚Œã‚‹é–¢æ•°ã§ã™ã€‚ã“ã¡ã‚‰ã‚‚çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€å‰Šé™¤ã—ãŸè¦ç´ ã‚’è¿”ã—ã¦ãã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚
```dart
final parts = <String>['head', 'shoulder', 'knees', 'toes'];
final retVal = parts.removeAt(2); // knees
print(parts); // [head, shoulder, toes]
```
:::

:::details removeLast | é…åˆ—ã®æœ€å¾Œã®è¦ç´ ã‚’å‰Šé™¤ã™ã‚‹
é…åˆ—ã®æœ€å¾Œã®è¦ç´ ã‚’å‰Šé™¤ã—ã€å‰Šé™¤ã—ãŸè¦ç´ ã‚’è¿”ã—ã¦ãã‚Œã¾ã™ã€‚
```dart
final parts = <String>['head', 'shoulder', 'knees', 'toes'];
final retVal = parts.removeLast(); // toes
```
:::

:::details removeRange | ç¯„å›²ã‚’æŒ‡å®šã—ã¦å‰Šé™¤ã™ã‚‹
`removeRange(start, end)`ãªã‚“ã§ã™ãŒã€endã®é…åˆ—ç•ªå·ã®è¦ç´ ã¯æ¶ˆã•ãªã„ã¨ã„ã†ã¨ã“ã‚ãŒãªã‚“ã¨ã‚‚ã‚„ã‚„ã“ã—ã„ã§ã™ã€‚
ç°¡å˜ãªè¦šãˆæ–¹ã¨ã—ã¦ã¯ä¸Šè¨˜ã®removeRange(1,4)ã®ä¾‹ã ã¨ã€
[1, 2, 3, 4, 5]ã®ï¼‘ç•ªç›®ã®[2]ã‹ã‚‰`end(4) - start(1)`ã‚’ã—ãŸ3ã¤åˆ†æ¶ˆã—ã¾ã™ã‚ˆã¨ã„ã†ã“ã¨ã€‚
2ã‹ã‚‰3ã¤æ¶ˆã™ã®ã§2ã¨3ã¨4ãŒæ¶ˆãˆã¦ã€[1, 5]ã«ãªã‚‹ã¨è€ƒãˆã‚‹ã¨è¦šãˆã‚„ã™ã„ã§ã™ã€‚
```dart
final numbers = <int>[1, 2, 3, 4, 5];
numbers.removeRange(1, 4);
print(numbers); // [1, 5]
```
:::

:::details removeWhere | æŒ‡å®šã—ãŸæ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã‚’å…¨ã¦å‰Šé™¤ã™ã‚‹
æ¡ä»¶ã‚’æŒ‡å®šã—ã¦ã€ãã®æ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹è¦ç´ ã‚’å…¨ã¦å‰Šé™¤ã™ã‚‹é–¢æ•°ã§ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã ã¨ã€æ–‡å­—æ•°ãŒ3æ–‡å­—ã®ã‚‚ã®ã‚’å‰Šé™¤ã—ã¦ã„ã¾ã™ã€‚æ–‡å­—æ•°ãŒ3æ–‡å­—ã®`one`ã€`two`ãŒå‰Šé™¤ã•ã‚Œã€æ–°ã—ã„é…åˆ—ãŒã§ãã¦ã„ã¾ã™ã€‚è¿”ã‚Šå€¤ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
```dart
final numbers = <String>['one', 'two', 'three', 'four'];
numbers.removeWhere((item) => item.length == 3);
print(numbers); // [three, four]
```
:::

## è¦ç´ ã‚’æ¢ã™
:::details contains | æŒ‡å®šã—ãŸã‚‚ã®ãŒãƒªã‚¹ãƒˆã«ã‚ã‚‹ã‹ã©ã†ã‹ã‚’boolã§è¿”ã™
æŒ‡å®šã—ãŸã‚‚ã®ãŒãƒªã‚¹ãƒˆã«ã‚ã‚Œã°`true`ã‚’ã€ãªã‘ã‚Œã°`false`ã‚’è¿”ã™é–¢æ•°ã§ã™ã€‚
ä¸‹è¨˜ä¾‹ã§ã¯`gasPlanets`ã¨ã„ã†Mapã«å¯¾ã—ã¦ã€
1. `key`ãŒ`1`ã®è¦ç´ ã¯ã‚ã‚‹ã‹ï¼Ÿ => true
2. `key`ãŒ`5`ã®è¦ç´ ã¯ã‚ã‚‹ã‹ï¼Ÿ => false
3. `value`ãŒ`Jupiter`ã®è¦ç´ ã¯ã‚ã‚‹ã‹ï¼Ÿ => true
4. `value`ãŒ`Merucy`ã®è¦ç´ ã¯ã‚ã‚‹ã‹ï¼Ÿ => false
ã¨ãªã£ã¦ã¾ã™ã€‚
```dart
final gasPlanets = <int, String>{1: 'Jupiter', 2: 'Saturn'};
final containsOne = gasPlanets.keys.contains(1); // true
final containsFive = gasPlanets.keys.contains(5); // false
final containsJupiter = gasPlanets.values.contains('Jupiter'); // true
final containsMercury = gasPlanets.values.contains('Mercury'); // false
```
:::

:::details firstWhere | æŒ‡å®šã—ãŸæ¡ä»¶ã«å½“ã¦ã¯ã¾ã£ãŸè¦ç´ ã‚’è¿”ã™
é…åˆ—ã®æœ€åˆã‹ã‚‰ç¢ºèªã—ã€ä¸€ç•ªåˆã‚ã«æ¡ä»¶ã«å½“ã¦ã¯ã¾ã£ãŸè¦ç´ ã‚’è¿”ã—ã¦ãã‚Œã¾ã™ã€‚
æ¡ä»¶ã«å½“ã¦ã¯ã¾ã£ãŸæ™‚ç‚¹ã§çµ‚äº†ã—ã¾ã™ã€‚
`orElse`ã‚’æ›¸ãã¨ã€æ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ãŒãªã‹ã£ãŸæ™‚ã®è¿”ã‚Šå€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ä¸‹è¨˜ã€ä¸€ç•ªä¸‹ã®ä¾‹ã®å ´åˆã€å½“ã¦ã¯ã¾ã‚‹æ¡ä»¶ãŒãªã‘ã‚Œã°`-1`ã‚’è¿”ã—ã¾ã™ã€‚
```dart
final numbers = <int>[1, 2, 3, 5, 6, 7];
var result = numbers.firstWhere((element) => element < 5); // 1
result = numbers.firstWhere((element) => element > 5); // 6
result =
    numbers.firstWhere((element) => element > 10, orElse: () => -1); // -1
```
-----
#### æ¡ä»¶ã«ä¸€è‡´ã—ãªã„ã¨ãã«nullã‚’è¿”ã™æ–¹æ³•
ä¸Šè¨˜ã®ä¾‹ã§`null`ã‚’è¿”ã—ãŸã„æ™‚ã¯`firstWhere`é–¢æ•°ã®ç¬¬ï¼’å¼•æ•°ã§ã‚ã‚‹`orElse`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
ä¸‹è¨˜ã®ä¾‹ã ã¨ã€`numbers`ã®ä¸­ã‹ã‚‰`4`ã‚’æ¢ã—ã¦ã„ã¾ã™ãŒã€ãªã„ã®ã§`null`ãŒè¿”ã•ã‚Œã¾ã™ã€‚
å…ƒã€…å®šç¾©ã—ã¦ã„ã‚‹`numbers`ãƒªã‚¹ãƒˆãŒ`int`å‹ã§nullableã§ã¯ãªã„ã®ã§ã€`int?`å‹ã«`cast`ã—ãªã„ã¨ã„ã‘ãªã„ç‚¹ãŒã‚„ã‚„ã“ã—ã„ã§ã™ã€‚
```dart
final numbers = <int>[1, 2, 3, 5, 6, 7];
int? result = numbers.cast<int?>().firstWhere((element) =>
    element == 4, 
    orElse: () => null
); // null
```
:::

## è¦ç´ ã‚’ä¸¦ã³æ›¿ãˆã‚‹
:::details sort | compareé–¢æ•°ã§æŒ‡å®šã•ã‚ŒãŸé †åºã§ã‚½ãƒ¼ãƒˆã™ã‚‹
`(a, b)`ãŒåˆ†ã‹ã‚Šã«ãã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä¸‹è¨˜ã®ä¸€ç•ªä¸Šã®ä¾‹ã§è¨€ã†ã¨
1å›ç›®. `(a, b)` => `(two, three)`
2å›ç›®. `(a, b)` => `(three, four)`
`compareTo`é–¢æ•°ã¯ä¸­èº«ã®è¦ç´ ã¨æ¯”è¼ƒã—ã¦ã€å¤§ãã‘ã‚Œã°`1`ã‚’è¿”ã—ã€å°ã•ã‘ã‚Œã°`-1`ã‚’è¿”ã™é–¢æ•°ã§ã™ã€‚
åŒã˜æ•°å­—ãªã‚‰`0`ã‚’è¿”ã—ã¾ã™ã€‚
ä¸‹è¨˜2ç•ªç›®ã®ä¾‹ã®ã‚ˆã†ã«ã€sortã™ã‚‹é…åˆ—ãŒæ•°å­—ã§ã‚ã‚Œã°ã€`sort`é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ä¸¦ã³æ›¿ãˆã¦ãã‚Œã¾ã™ã€‚
```dart
final numbers = <String>['two', 'three', 'four'];
// Sort from shortest to longest.
numbers.sort((a, b) => a.length.compareTo(b.length));
print(numbers); // [two, four, three]

final numbers = <int>[13, 2, -11, 0];
numbers.sort();
print(numbers); // [-11, 0, 2, 13]

final numbers = <String>['one', 'two', 'three', 'four'];
numbers.sort((a, b) => a.length.compareTo(b.length));
print(numbers); // [one, two, four, three] OR [two, one, four, three]
```
:::

## ãã®ä»–ã€ä¾¿åˆ©ï¼Ÿãªé–¢æ•°
:::details asMap | é…åˆ—ã‚’Mapã«å¤‰æ›ã™ã‚‹
é…åˆ—ã‚’`Map`ã«ã—ã¦è¿”ã—ã¾ã™ã€‚`key`ã®å€¤ã¯indexç•ªå·ã«ãªã‚Šã¾ã™ã€‚
```dart
var words = <String>['fee', 'fi', 'fo', 'fum'];
var map = words.asMap();  // {0: fee, 1: fi, 2: fo, 3: fum}
map.keys.toList(); // [0, 1, 2, 3]
```
:::
